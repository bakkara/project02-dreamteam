{"mappings":"C,A,W,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,SCGA,IAAM,EAAW,SAAS,aAAA,CAAc,aAClC,EAAU,SAAS,aAAA,CAAc,YAEvC,eAAe,EAAc,CAAM,EACjC,GAAI,CACF,IAAM,EAAW,MAAM,AAAA,CAAA,EAAA,EAAA,OAAI,AAAJ,EAAM,GAAA,CAAI,oDAAe,GAAQ,EACxD,OAAO,EAAS,IAAhB,AACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAA,CAAM,4BAA6B,EAC7C,CACF,EAyDA,AAvDA,WACE,IAAM,EACJ,KAAK,KAAA,CAAM,aAAa,OAAA,CAAQ,uBAAyB,EAAE,AAEzD,AAAiC,CAAA,IAAjC,EAAsB,MAAA,CACxB,EAAQ,KAAA,CAAM,OAAA,CAAU,QAExB,EAAsB,OAAA,CAAQ,MAAM,IAClC,IAAM,EAAW,MAAM,EAAc,EAAK,EAA1C,EACI,GACF,AAMR,SAAwB,CAAI,EAC1B,IAAM,EAAW,SAAS,aAAA,CAAc,MACxC,CAAA,EAAS,SAAA,CAAY,CAAC;;qCAEa,EAAE,EAAK,KAAA,CAAM;gCAClB,EAAE,EAAK,KAAA,CAAM;mCACV,EAAE,EAAK,QAAA,CAAS;sCACb,EAAE,EAAK,WAAA,CAAY;yCAChB,EAAE,EAAK,MAAA,CAAO;;UAE7C,EAAE,EAAK,KAAA,CACJ,GAAA,CACC,AAAA,GACE,CAAC,gCAAgC,EAAE,EAAK,SAAS,EAAE,EAAK,UAAU,CAAC,EAEtE,IAAA,CAAK,IAAI;;;;;IAKlB,CAAC,CAEH,EAAS,aAAA,CAAc,kBAAkB,gBAAA,CAAiB,QAAS,KACjE,AAOJ,CAAA,SAAoC,CAAY,EAC9C,IAAM,EAAe,sBAAsB,MAAA,CACzC,AAAA,GAAQ,EAAK,KAAA,GAAU,EAAa,KADtC,EAGA,aAAa,OAAA,CAAQ,oBAAqB,KAAK,SAAA,CAAU,IAC7B,IAAxB,EAAa,MAAA,EACf,CAAA,EAAQ,KAAA,CAAM,OAAA,CAAU,OAD1B,CAGF,CAAA,EAf+B,GAC3B,EAAS,MAAT,EACF,GAEA,EAAS,WAAA,CAAY,EACvB,EAlCuB,EAEnB,EAEJ,G","sources":["<anon>","src/shopping-list.js"],"sourcesContent":["(function () {\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar $dIxxU = parcelRequire(\"dIxxU\");\nconst $818260bfa8f12ff7$var$BOOKS_ID = `https://books-backend.p.goit.global/books/bookId`;\nconst $818260bfa8f12ff7$var$bookList = document.querySelector(\"#bookList\");\nconst $818260bfa8f12ff7$var$message = document.querySelector(\"#message\");\nasync function $818260bfa8f12ff7$var$fetchBookData(bookId) {\n    try {\n        const response = await (0, $dIxxU.default).get(`${$818260bfa8f12ff7$var$BOOKS_ID}/${bookId}`);\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching book data:\", error);\n    }\n}\nfunction $818260bfa8f12ff7$var$checkLocalStorageBooks() {\n    const booksFromLocalStorage1 = JSON.parse(localStorage.getItem(\"shoppingListBooks\")) || [];\n    if (booksFromLocalStorage1.length === 0) $818260bfa8f12ff7$var$message.style.display = \"block\";\n    else booksFromLocalStorage1.forEach(async (book)=>{\n        const bookData = await $818260bfa8f12ff7$var$fetchBookData(book.id);\n        if (bookData) $818260bfa8f12ff7$var$createBookCard(bookData);\n    });\n}\nfunction $818260bfa8f12ff7$var$createBookCard(book) {\n    const bookCard = document.createElement(\"div\");\n    bookCard.innerHTML = `\n      <div class=\"book-card\">\n        <img class=\"book-image\" src=\"${book.image}\" alt=\"Book Image\">\n        <div class=\"book-title\">${book.title}</div>\n        <div class=\"book-category\">${book.category}</div>\n        <div class=\"book-description\">${book.description}</div>\n        <div class=\"book-author\">Author: ${book.author}</div>\n        <div class=\"book-links\">\n          ${book.links.map((link)=>`<div class=\"book-link\"><a href=\"${link}\">Buy on ${link}</a></div>`).join(\"\")}\n        </div>\n        <button class=\"delete-button\"><svg width=\"16\" height=\"16\" class=\"shopping-svg\">\n        <use href=\"./images/symboldefs.svg#btn-shopping-list\"></use></button>\n      </div>\n    `;\n    bookCard.querySelector(\".delete-button\").addEventListener(\"click\", ()=>{\n        $818260bfa8f12ff7$var$removeBookFromLocalStorage(book);\n        bookCard.remove();\n    });\n    $818260bfa8f12ff7$var$bookList.appendChild(bookCard);\n}\nfunction $818260bfa8f12ff7$var$removeBookFromLocalStorage(bookToRemove) {\n    const updatedBooks = booksFromLocalStorage.filter((book)=>book.title !== bookToRemove.title);\n    localStorage.setItem(\"shoppingListBooks\", JSON.stringify(updatedBooks));\n    if (updatedBooks.length === 0) $818260bfa8f12ff7$var$message.style.display = \"block\";\n}\n$818260bfa8f12ff7$var$checkLocalStorageBooks();\n\n})();\n//# sourceMappingURL=shopping-list.31e7667b.js.map\n","import axios from 'axios';\nconst BOOKS_ID = `https://books-backend.p.goit.global/books/bookId`;\n\nconst bookList = document.querySelector('#bookList');\nconst message = document.querySelector('#message');\n\nasync function fetchBookData(bookId) {\n  try {\n    const response = await axios.get(`${BOOKS_ID}/${bookId}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching book data:', error);\n  }\n}\n\nfunction checkLocalStorageBooks() {\n  const booksFromLocalStorage =\n    JSON.parse(localStorage.getItem('shoppingListBooks')) || [];\n\n  if (booksFromLocalStorage.length === 0) {\n    message.style.display = 'block';\n  } else {\n    booksFromLocalStorage.forEach(async book => {\n      const bookData = await fetchBookData(book.id);\n      if (bookData) {\n        createBookCard(bookData);\n      }\n    });\n  }\n}\n\nfunction createBookCard(book) {\n  const bookCard = document.createElement('div');\n  bookCard.innerHTML = `\n      <div class=\"book-card\">\n        <img class=\"book-image\" src=\"${book.image}\" alt=\"Book Image\">\n        <div class=\"book-title\">${book.title}</div>\n        <div class=\"book-category\">${book.category}</div>\n        <div class=\"book-description\">${book.description}</div>\n        <div class=\"book-author\">Author: ${book.author}</div>\n        <div class=\"book-links\">\n          ${book.links\n            .map(\n              link =>\n                `<div class=\"book-link\"><a href=\"${link}\">Buy on ${link}</a></div>`\n            )\n            .join('')}\n        </div>\n        <button class=\"delete-button\"><svg width=\"16\" height=\"16\" class=\"shopping-svg\">\n        <use href=\"./images/symboldefs.svg#btn-shopping-list\"></use></button>\n      </div>\n    `;\n\n  bookCard.querySelector('.delete-button').addEventListener('click', () => {\n    removeBookFromLocalStorage(book);\n    bookCard.remove();\n  });\n\n  bookList.appendChild(bookCard);\n}\n\nfunction removeBookFromLocalStorage(bookToRemove) {\n  const updatedBooks = booksFromLocalStorage.filter(\n    book => book.title !== bookToRemove.title\n  );\n  localStorage.setItem('shoppingListBooks', JSON.stringify(updatedBooks));\n  if (updatedBooks.length === 0) {\n    message.style.display = 'block';\n  }\n}\ncheckLocalStorageBooks();\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$dIxxU","$818260bfa8f12ff7$var$bookList","document","querySelector","$818260bfa8f12ff7$var$message","$818260bfa8f12ff7$var$fetchBookData","bookId","response","default","get","data","error","console","$818260bfa8f12ff7$var$checkLocalStorageBooks","booksFromLocalStorage1","JSON","parse","localStorage","getItem","length","style","display","forEach","book","bookData","$818260bfa8f12ff7$var$createBookCard","bookCard","createElement","innerHTML","image","title","category","description","author","links","map","link","join","addEventListener","$818260bfa8f12ff7$var$removeBookFromLocalStorage","bookToRemove","updatedBooks","booksFromLocalStorage","filter","setItem","stringify","remove","appendChild"],"version":3,"file":"shopping-list.31e7667b.js.map"}